import{E as f,A as g}from"./embla-carousel-autoplay.esm.8d54907d.js";import{m as b,a as y}from"./hoisted.63d8ef3d.js";import{C as a,a as r}from"./hoisted.0092494d.js";function w(){const e=document.getElementById("testimonial-slider");if(!e)return;const t=document.querySelector(".embla__prev"),o=document.querySelector(".embla__next"),n=f(e,{loop:!0,align:"center",draggable:!0,breakpoints:{"(min-width: 640px)":{loop:!1,align:"start",draggable:!1}}},[g({delay:5e3,stopOnMouseEnter:!0,rootNode:e=>e.parentElement})]);n.on("select",(()=>{n.slidesInView().slice(-1)[0]===n.slideNodes().length-1&&n.scrollTo(0)})),t?.addEventListener("click",n.scrollPrev,!1),o?.addEventListener("click",(function(){const e=n.slidesNotInView(),t=n.slidesInView();t[t.length-1]<e[e.length-1]&&n.scrollNext()}),!1);const a=document.getElementById("testimonial-slider")?.querySelectorAll(".testimonial-slider-btn");const s=e=>{const t=e.currentTarget?.dataset;t.video?function(e){const t=window["testimonial-video-modal"];t.showModal(),t.querySelector(".testimonial-modal__content").innerHTML=`\n    <div class="flex flex-col sm:flex-row w-full h-full">\n      <iframe id='testimonial-iframe' class='rounded-2xl w-full h-full object-cover'\n        width='300'\n        height='400'\n        loading="lazy"\n        src="${e.video}"\n        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n      ></iframe></div>`,h(e.name,e.position)}(t):function(e){const t=window["testimonial-text-modal"];t.showModal(),t.querySelector(".testimonial-modal__content").innerHTML=`\n      <div class="overflow-auto sm:flex w-full">\n        <figure class="mb-5 sm:mb-0 aspect-[1/1] sm:aspect-[3/4] sm:h-[20rem] xxl:h-[28rem] sm:mr-5">\n          <img class='bg-cover rounded-2xl w-full h-full object-cover' width="300" height="400" src="${e.image&&e.image}" alt="${e.name}" />\n        </figure>\n        <div class="sm:overflow-y-auto">\n            <h2 class="mt-2 text-xl font-semibold mb-3">${e.name&&e.name}</h2>\n            <p class="text-base font-normal w-3/4">${e.position&&e.position}</p>\n            <hr class="border-gray-100 my-4 sm:my-6" />${e.content?`<p class="text-base font-normal w-full pr-5 mb-5">${e.content}</p>`:""}\n          </div>\n      </div>\n    `}(t)};a?.forEach((e=>e.addEventListener("click",s)))}function h(e,t){const o=document.getElementById("testimonials");o.dataset.productName&&o.dataset.productType&&b.track("Testimonial Video Played",{"Course Name":o.dataset.productName,"Course Type":o.dataset.productType,"Student Name":e,"Student Position":t,pathname:window.location.pathname})}w();const I=(e,t)=>new Intl.NumberFormat("ru-RU",{maximumSignificantDigits:3,currency:t||"UZS"}).format(e),x=100,S=(e,t)=>{switch(t.amountType){case a.Fixed:return Math.max(e-t.amount,0);case a.Percentage:return e-e*t.amount/100;default:return e}},P=(e,t)=>Math.floor(x*t/e),V={async getPublicCoupons(){const{data:e}=await y.options({credentials:"include"}).get("/coupons/public");return e},async getGlobalCoupon(){return(await this.getPublicCoupons()).find((e=>e.type===r.Global))},async getAutoAppliedCoupon(e){return(await this.getPublicCoupons()).find((t=>t?.type===r.ProductBased&&t?.productIds?.includes(e)))}};export{S as a,V as c,I as f,P as g};